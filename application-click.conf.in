description "Application Launching for Click Applications"
author "Ted Gould <ted@canonical.com>"

instance ${APP_ID}

start on application-click-start
stop on application-end or desktop-end

env APP_ID
export APP_ID

# Testing leave this disabled
# apparmor switch ${APP_ID}

env APP_EXEC="echo Error"

pre-start exec @libexecdir@/click-exec ${APP_ID}
exec ${APP_EXEC}

post-start exec @libexecdir@/zg-report-app open application://${APP_ID}.desktop
post-stop exec @libexecdir@/zg-report-app close application://${APP_ID}.desktop
